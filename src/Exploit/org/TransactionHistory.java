package Exploit.org;

public class TransactionHistory {

    //Private variables.-------------------------
    private final String transactionType;

    private final double amount;

    private final String dateAndTime;

    private final boolean isAccToAccTransfer;

    private final String payerAccountNumber;

    private final String recipientAccountNumber;

    // This parametrized constructor is called when there is normal deposit/credit in account to
    // create and save transaction history objects.-----------------------------------------------------------
    public TransactionHistory(String transactionType, double amount, String dateAndTime) {
        this.transactionType = transactionType;
        this.amount = amount;
        this.dateAndTime = dateAndTime;
        this.isAccToAccTransfer = false;
        this.recipientAccountNumber = null;
        this.payerAccountNumber = null;
    }

    // This parametrized constructor is called when there is account-to-account transaction.------------------------
    public TransactionHistory(String transactionType, double amount, String dateAndTime, boolean isAccToAccTransfer, String payerAccountNumber, String recipientAccountNumber) {
        this.transactionType = transactionType;
        this.amount = amount;
        this.dateAndTime = dateAndTime;
        this.isAccToAccTransfer = isAccToAccTransfer;
        this.payerAccountNumber = payerAccountNumber;
        this.recipientAccountNumber = recipientAccountNumber;
    }

    //Message for normal credit and debit of account.
    private void normalCredit() {
        System.out.println("An Amount of " + amount + "$ has been credited to your account on " + dateAndTime + ".");
    }

    private void normalDebit() {
        System.out.println("An Amount of " + amount + "$ has been debited from your account on " + dateAndTime + ".");
    }

    //Message for account-to-account credit and debit.---------------------------------------------------
    private void accToAccDebit() {
        System.out.println("An Amount of " + amount + "$ from your account has been transferred" +
                " to Account Number (" + recipientAccountNumber + ") on " + dateAndTime + ".");
    }

    private void accToAccCredit() {
        System.out.println("Account Number (" + payerAccountNumber + ") has transferred an amount of " + amount +
                "$ to your account on " + dateAndTime + ".");
    }

    //Main driver function that runs all the private functions() based on specific conditions.
    public void driverCode() {
        if (this.isAccToAccTransfer) {
            if (this.transactionType.equalsIgnoreCase("credit")) {
                this.accToAccCredit();
            } else this.accToAccDebit();
        } else {
            if (this.transactionType.equalsIgnoreCase("credit")) {
                this.normalCredit();
            } else this.normalDebit();
        }
    }
}
